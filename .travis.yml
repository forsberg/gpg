go_import_path: github.com/prep/gpg
dist: xenial

language: go
go:
  - "1.x.x"

# Install the dependencies.
install:
  - go get -t -v ./...

notifications:
  email: false

# Install GnuPG.
before_install:
  - sudo apt-get update
  - sudo apt-get install -y gpgv2

script:
  - GO_FILES=$(find . -iname '*.go' -type f | grep -v /vendor/)
  - test -z $(gofmt -s -l $GO_FILES)
  - ./runtests.sh -v -race ./...
